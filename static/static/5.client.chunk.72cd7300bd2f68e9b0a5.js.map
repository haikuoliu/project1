{"version":3,"sources":["webpack:///./src/routes/ClientApp/containers/action.js","webpack:///./src/routes/ClientApp/containers/index.js","webpack:///./src/routes/ClientApp/containers/reducer.js","webpack:///./src/routes/ClientApp/routes/feed/containers/index.js"],"names":["loadMyInfo","userId","dispatch","getState","then","response","json","catch","status","result","msg","error","type","LOAD","ClientGeneralAction","PersistentActions","SubMenu","ClientApp","props","persistentStore","actions","nextProps","userInfo","pathname","location","replace","height","window","innerHeight","width","query","uid","children","propTypes","PropTypes","oneOfType","string","element","object","persistentActions","mapState","state","toJS","clientGeneral","mapDispatch","initialState","fromJS","userName","sex","birth","email","followerNum","reducerMap","action","merge","Map","name","follows","UPDATE","Feed"],"mappings":"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","file":"5.client.chunk.72cd7300bd2f68e9b0a5.js","sourcesContent":["import fetchPro from 'SRC/utils/fetchPro'\r\nimport { CLIENT_USER } from 'SRC/constants/action_const'\r\nimport api from 'SRC/apis'\r\nimport logger from 'SRC/utils/logger'\r\n\r\n// import * as PersistentActions from 'SRC/action'\r\n\r\n// export function deleteBlogListItem(id) {\r\n//   return {\r\n//     type: 'BLOG@BLOG_CONTENT@DELETE_ITEM',\r\n//     id\r\n//   }\r\n// }\r\n\r\n/**\r\n\r\n  Async Actions\r\n\r\n*/\r\n\r\nexport function loadMyInfo(userId) {\r\n  return (dispatch, getState) => ( // eslint-disable-line no-unused-vars\r\n    fetchPro(api('users:getUserInfo', userId, userId))\r\n      .then(response => response.json())\r\n      .catch(() => ({ status: 'fail', result: { msg: 'Network Unavailable!' } }))\r\n      .then(json => {\r\n        if (json.status === 'fail') {\r\n          logger.error(api('users:getUserInfo', userId, userId), json.result.msg)\r\n          return\r\n        }\r\n        // dispatch(PersistentActions.persistentSet('username', json.result.name))\r\n        dispatch({\r\n          type: CLIENT_USER.LOAD,\r\n          status: json.status,\r\n          result: json.result\r\n        })\r\n      })\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/ClientApp/containers/action.js","import React, { Component } from 'react'\r\nimport { Link } from 'react-router'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport * as ClientGeneralAction from './action'\r\nimport * as PersistentActions from 'SRC/action'\r\n\r\nimport { Col, Row, Menu } from 'antd'\r\nconst SubMenu = Menu.SubMenu\r\n\r\n// import CSSModules from 'react-css-modules'\r\n// import styles from './style.hcss'\r\n\r\nclass ClientApp extends Component {\r\n  componentWillMount() {\r\n    const { userId } = this.props.persistentStore\r\n    this.props.actions.loadMyInfo(userId)\r\n  }\r\n  componentWillReceiveProps(nextProps) { // eslint-disable-line no-unused-vars\r\n    const { userId } = this.props.persistentStore\r\n    const userInfo = this.props.userInfo\r\n    if (userId != userInfo.userId) { // eslint-disable-line eqeqeq\r\n      this.props.actions.loadMyInfo(userId)\r\n    }\r\n  }\r\n  render() {\r\n    let pathname = this.props.location.pathname.replace('/client/', '')\r\n    if (pathname === 'topics/topic') pathname = 'topics/list'\r\n    const { userId } = this.props.persistentStore\r\n    return (\r\n      <Row style={{ height: window.innerHeight }}>\r\n        <Col span={4} className=\"full-height\">\r\n          <Menu\r\n            theme=\"dark\"\r\n            className=\"full-height\"\r\n            style={{ width: '100%' }}\r\n            defaultOpenKeys={['topics', 'blog', 'profile']}\r\n            selectedKeys={[pathname]}\r\n            mode=\"inline\"\r\n            >\r\n            <Menu.Item key=\"feed\"><Link to=\"/client/feed\">News Feed</Link></Menu.Item>\r\n            <SubMenu key=\"topics\" title=\"Topics\">\r\n              <Menu.Item key=\"profile/subscribe\">\r\n                <Link to={{ pathname: '/client/profile/subscribe', query: { uid: userId } }}>\r\n                  My Topics\r\n                </Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"topics/list\"><Link to=\"/client/topics/list\">More Topics</Link></Menu.Item>\r\n            </SubMenu>\r\n            <SubMenu key=\"blog\" title=\"Blog\">\r\n              <Menu.Item key=\"profile/posts\">\r\n                <Link to={{ pathname: '/client/profile/posts', query: { uid: userId } }}>\r\n                  My Posts\r\n                </Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"blog/edit\"><Link to=\"/client/blog/edit\">Create Blog</Link></Menu.Item>\r\n            </SubMenu>\r\n            <SubMenu key=\"profile\" title=\"Profile\">\r\n              <Menu.Item key=\"profile/info\">\r\n                <Link to={{ pathname: '/client/profile/info', query: { uid: userId } }}>\r\n                  My Profile\r\n                </Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"profile/follow\">\r\n                <Link to={{ pathname: '/client/profile/follow', query: { uid: userId } }}>\r\n                  My Follows\r\n                </Link>\r\n              </Menu.Item>\r\n            </SubMenu>\r\n          </Menu>\r\n        </Col>\r\n        <Col span={20} className=\"full-height\">\r\n          {this.props.children}\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n}\r\n\r\nClientApp.propTypes = {\r\n  children: React.PropTypes.oneOfType([\r\n    React.PropTypes.string,\r\n    React.PropTypes.element\r\n  ]),\r\n  location: React.PropTypes.object,\r\n  userInfo: React.PropTypes.object,\r\n  persistentStore: React.PropTypes.object,\r\n  persistentActions: React.PropTypes.object,\r\n  actions: React.PropTypes.object\r\n}\r\n\r\nfunction mapState(state) {\r\n  return {\r\n    persistentStore: state.persistentStore.toJS(),\r\n    userInfo: state.clientGeneral.userInfo.toJS()\r\n  }\r\n}\r\n\r\nfunction mapDispatch(dispatch) {\r\n  return {\r\n    persistentActions: bindActionCreators(PersistentActions, dispatch),\r\n    actions: bindActionCreators(ClientGeneralAction, dispatch)\r\n  }\r\n}\r\n\r\nexport default connect(mapState, mapDispatch)(ClientApp)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/ClientApp/containers/index.js","import { combineReducers } from 'redux'\r\nimport Immutable from 'immutable'\r\n\r\nimport { CLIENT_USER } from 'SRC/constants/action_const'\r\n\r\n// import blogList from '../routes/list/containers/BlogListReducer'\r\n// import blogContent from '../routes/content/containers/reducer'\r\n\r\nconst initialState = Immutable.fromJS({\r\n  userName: '',\r\n  sex: 'Male',\r\n  birth: 1478236926748,\r\n  email: '',\r\n  followerNum: 12,\r\n  userId: -1\r\n})\r\n\r\n/* eslint-disable arrow-body-style, no-unused-vars*/\r\nconst reducerMap = {\r\n  [CLIENT_USER.LOAD]: (state, action) => {\r\n    return state.merge(Immutable.Map({\r\n      userName: action.result.name,\r\n      sex: action.result.sex ? 'Male' : 'Female',\r\n      birth: action.result.birth,\r\n      email: action.result.email,\r\n      followerNum: action.result.follows,\r\n      userId: action.result.uid\r\n    }))\r\n  },\r\n  [CLIENT_USER.UPDATE]: (state, action) => {\r\n    return state\r\n  }\r\n}\r\n\r\nfunction userInfo(state = initialState, action) {\r\n  if (reducerMap[action.type]) {\r\n    return reducerMap[action.type](state, action)\r\n  }\r\n  return state\r\n}\r\n\r\nexport default combineReducers({\r\n  userInfo\r\n  // blogList,\r\n  // blogContent\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/ClientApp/containers/reducer.js","import React, { Component } from 'react'\r\n// import { DatePicker } from 'antd'\r\n\r\nclass Feed extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div> News Feed </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Feed\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/ClientApp/routes/feed/containers/index.js"],"sourceRoot":""}